<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智能參數處理測試 | NutriPal</title>
    <link rel="stylesheet" href="css/styles.css">
    <style>
        .test-container {
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .test-link {
            display: inline-block;
            margin: 10px;
            padding: 12px 20px;
            background: #4A90E2;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            transition: background 0.3s;
        }
        .test-link:hover {
            background: #357ABD;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
        }
        .test-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #2C3E50;
        }
        .success { color: #27AE60; }
        .warning { color: #F39C12; }
        .error { color: #E74C3C; }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>🚀 智能參數處理測試頁面</h1>
        <p>此頁面用於測試從 index.html 到 chat.html 的智能參數傳遞功能</p>

        <div class="test-section">
            <div class="test-title">✅ 完全匹配測試</div>
            <p>這些健康需求在兩個頁面中名稱完全一致：</p>
            <a href="chat.html?health=睡眠相關知識" class="test-link">睡眠相關知識</a>
            <a href="chat.html?health=免疫系統知識" class="test-link">免疫系統知識</a>
            <a href="chat.html?health=大腦與認知知識" class="test-link">大腦與認知知識</a>
            <a href="chat.html?health=女性健康知識" class="test-link">女性健康知識</a>
        </div>

        <div class="test-section">
            <div class="test-title">🔄 智能對應測試</div>
            <p>這些健康需求需要通過對應表進行匹配：</p>
            <a href="chat.html?health=眼睛保健知識" class="test-link">眼睛保健知識 → 視力保健知識</a>
            <a href="chat.html?health=皮膚保養知識" class="test-link">皮膚保養知識 → 其他</a>
            <a href="chat.html?health=肌肉營養知識" class="test-link">肌肉營養知識 → 其他</a>
        </div>

        <div class="test-section">
            <div class="test-title">🎯 模糊匹配測試</div>
            <p>這些關鍵詞會通過模糊匹配找到對應選項：</p>
            <a href="chat.html?health=睡眠" class="test-link">睡眠 → 睡眠相關知識</a>
            <a href="chat.html?health=免疫" class="test-link">免疫 → 免疫系統知識</a>
            <a href="chat.html?health=記憶" class="test-link">記憶 → 大腦與認知知識</a>
            <a href="chat.html?health=骨骼" class="test-link">骨骼 → 骨骼與關節知識</a>
            <a href="chat.html?health=心臟" class="test-link">心臟 → 心血管系統知識</a>
        </div>

        <div class="test-section">
            <div class="test-title">⚠️ 邊界情況測試</div>
            <p>測試不存在或無法匹配的健康需求：</p>
            <a href="chat.html?health=不存在的需求" class="test-link">不存在的需求</a>
            <a href="chat.html?health=" class="test-link">空參數</a>
            <a href="chat.html" class="test-link">無參數（正常流程）</a>
        </div>

        <div class="test-section">
            <div class="test-title">📝 測試指南</div>
            <ol>
                <li><strong>點擊上方連結</strong> - 測試不同的參數傳遞情況</li>
                <li><strong>觀察自動選擇</strong> - 查看對應的健康需求按鈕是否被自動選中</li>
                <li><strong>檢查確認對話</strong> - 小帕是否顯示了預選確認訊息</li>
                <li><strong>驗證滾動效果</strong> - 頁面是否平滑滾動到生活型態選項</li>
                <li><strong>查看控制台</strong> - 開發者工具中是否有相關日誌訊息</li>
            </ol>
        </div>

        <div class="test-section">
            <div class="test-title">🔍 預期行為</div>
            <ul>
                <li><span class="success">✅ 成功匹配</span>：自動選擇對應按鈕，顯示確認對話，滾動到下一步</li>
                <li><span class="warning">⚠️ 部分匹配</span>：通過對應表或模糊匹配找到相似選項</li>
                <li><span class="error">❌ 無法匹配</span>：顯示警告但不影響正常流程，用戶可手動選擇</li>
            </ul>
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <a href="index.html" class="test-link">← 回到首頁測試實際流程</a>
        </div>
    </div>

    <script>
        // 添加一些測試輔助功能
        document.addEventListener('DOMContentLoaded', function() {
            // 在控制台顯示測試信息
            console.log('🧪 智能參數處理測試頁面已載入');
            console.log('📋 可用測試案例:', {
                '完全匹配': ['睡眠相關知識', '免疫系統知識', '大腦與認知知識'],
                '智能對應': ['眼睛保健知識', '皮膚保養知識', '肌肉營養知識'],
                '模糊匹配': ['睡眠', '免疫', '記憶', '骨骼', '心臟'],
                '邊界情況': ['不存在的需求', '空參數', '無參數']
            });
        });
    </script>
</body>
</html>
