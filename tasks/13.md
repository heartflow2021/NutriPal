# 任務13：整合OpenAI GPT-4o實現自動化內容生成

## 任務概述
在FastAPI後端系統中整合OpenAI的GPT-4o模型，實現自動化內容生成功能。此任務將開發必要的服務和模組，用於生成三種不同類型的內容：Blog文章、粉專貼文和SEO建議，所有內容將確保符合台灣衛福部規範。

## 接受標準
- 成功整合OpenAI API，能夠可靠調用GPT-4o模型
- 實現三種內容生成功能：
  - Blog文章生成（約1800字，包含適當的標題、導言、小標題和內容段落）
  - 粉專貼文生成（150-300字，包含emoji，風格輕鬆活潑）
  - SEO建議生成（提供5組相關的SEO標題和關鍵詞建議）
- 所有生成的內容嚴格遵守台灣衛福部規範，不含療效導向的詞彙
- 實現內容生成請求隊列和異步處理機制
- 建立健壯的錯誤處理機制，處理API調用失敗的情況
- 實現生成內容的緩存和持久化存儲

## 實施步驟
1. 設置OpenAI API整合
   - 實現安全的API金鑰管理
   - 建立API調用客戶端和請求/響應處理

2. 設計內容生成提示模板
   - 為三種不同類型的內容創建專門的提示模板
   - 確保提示模板指導模型生成符合要求的內容和風格
   - 實現動態提示組合，根據標題和其他參數生成完整提示

3. 開發內容生成服務
   - 實現BlogService處理Blog文章生成
   - 實現SocialPostService處理粉專貼文生成
   - 實現SEOService處理SEO建議生成
   - 確保所有服務遵循相同的接口設計

4. 實現非療效用詞檢查機制
   - 建立禁用詞彙清單和替代用詞建議
   - 實現自動檢查和修正機制，確保內容不含療效相關詞彙

5. 開發異步處理機制
   - 實現後台任務隊列用於處理長時間運行的內容生成請求
   - 建立任務狀態追蹤和結果獲取機制

6. 設計Content模型和存儲
   - 設計用於表示生成內容的資料模型
   - 實現內容的緩存和持久化存儲機制

7. 添加API端點
   - 整合內容生成服務與API路由
   - 實現請求驗證和響應格式化

## 依賴項
- 任務12：開發基於FastAPI的知識庫自動化內容生成系統

## 預計工時
4天

## 負責人
待分配

## 備註
整合GPT-4o將顯著提高內容生成效率，但重要的是要確保生成的內容符合品牌聲音和法規要求。在實現過程中，需特別注意避免使用任何療效導向的詞彙，並確保內容風格符合NutriPal的品牌調性。 