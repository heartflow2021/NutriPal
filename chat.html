<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>營養好朋友 - 對話推薦</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- iOS 狀態欄 -->
    <div class="status-bar">
        <div class="status-bar-time">9:43</div>
        <div class="status-bar-icons">
            <i class="fas fa-signal"></i>
            <i class="fas fa-wifi"></i>
            <i class="fas fa-battery-full"></i>
        </div>
    </div>

    <!-- 頂部導航 -->
    <div class="nav-header">
        <a href="home.html" style="color: var(--text-primary); margin-right: 12px;">
            <i class="fas fa-arrow-left"></i>
        </a>
        <div style="flex: 1; text-align: center; font-weight: 600;">健康需求整理</div>
        <div style="width: 24px;"></div> <!-- 為了保持兩邊對稱 -->
    </div>

    <!-- 進度條 -->
    <div class="progress-container">
        <div class="d-flex justify-content-between" style="font-size: 12px; margin-bottom: 4px;">
            <span>開始</span>
            <span>步驟 2/5</span>
        </div>
        <div class="progress-bar">
            <div class="progress-bar-fill" style="width: 40%;"></div>
        </div>
    </div>

    <!-- 主要內容區 -->
    <div class="app-content" style="background-color: var(--background); padding: 16px;">
        <!-- 對話流程 -->
        <div class="chat-message">
            <div class="avatar" style="background-color: var(--primary);">
                <i class="fas fa-archive"></i>
            </div>
            <div class="chat-bubble">
                <p style="margin: 0 0 8px; font-weight: 600;">小帕 Pal</p>
                <p style="margin: 0;">Hi！我是你的資料整理小幫手小帕！想了解你的需求，幫你找到適合的保健品選項～</p>
            </div>
        </div>

        <div class="chat-message">
            <div class="avatar" style="background-color: var(--primary);">
                <i class="fas fa-archive"></i>
            </div>
            <div class="chat-bubble">
                <p style="margin: 0;">首先，請告訴我你目前最想改善的健康狀況是什麼呢？我來幫你找找大家常選的補品組合～</p>
            </div>
        </div>

        <!-- 選擇按鈕 -->
        <div style="margin-bottom: 24px;">
            <button class="option-button" data-type="health-need" data-value="改善睡眠品質">
                <div class="d-flex align-items-center">
                    <i class="fas fa-moon" style="margin-right: 12px; color: var(--primary);"></i>
                    <div>
                        <p style="margin: 0 0 2px; font-weight: 600;">改善睡眠品質</p>
                        <p style="margin: 0; font-size: 12px; color: var(--text-secondary);">入睡困難、易醒、睡眠淺</p>
                    </div>
                </div>
            </button>

            <button class="option-button" data-type="health-need" data-value="增強免疫力">
                <div class="d-flex align-items-center">
                    <i class="fas fa-shield-virus" style="margin-right: 12px; color: var(--primary);"></i>
                    <div>
                        <p style="margin: 0 0 2px; font-weight: 600;">增強免疫力</p>
                        <p style="margin: 0; font-size: 12px; color: var(--text-secondary);">容易感冒、抵抗力弱</p>
                    </div>
                </div>
            </button>

            <button class="option-button" data-type="health-need" data-value="提升腦力與專注">
                <div class="d-flex align-items-center">
                    <i class="fas fa-brain" style="margin-right: 12px; color: var(--primary);"></i>
                    <div>
                        <p style="margin: 0 0 2px; font-weight: 600;">提升腦力與專注</p>
                        <p style="margin: 0; font-size: 12px; color: var(--text-secondary);">注意力不集中、記憶力減退</p>
                    </div>
                </div>
            </button>

            <button class="option-button" data-type="health-need" data-value="心臟健康">
                <div class="d-flex align-items-center">
                    <i class="fas fa-heartbeat" style="margin-right: 12px; color: var(--primary);"></i>
                    <div>
                        <p style="margin: 0 0 2px; font-weight: 600;">心臟健康</p>
                        <p style="margin: 0; font-size: 12px; color: var(--text-secondary);">血壓、膽固醇控制</p>
                    </div>
                </div>
            </button>
            
            <button class="option-button" data-type="health-need" data-value="骨骼與關節健康">
                <div class="d-flex align-items-center">
                    <i class="fas fa-bone" style="margin-right: 12px; color: var(--primary);"></i>
                    <div>
                        <p style="margin: 0 0 2px; font-weight: 600;">骨骼與關節健康</p>
                        <p style="margin: 0; font-size: 12px; color: var(--text-secondary);">關節不適、骨質疏鬆預防</p>
                    </div>
                </div>
            </button>
            
            <button class="option-button" data-type="health-need" data-value="視力保健">
                <div class="d-flex align-items-center">
                    <i class="fas fa-eye" style="margin-right: 12px; color: var(--primary);"></i>
                    <div>
                        <p style="margin: 0 0 2px; font-weight: 600;">視力保健</p>
                        <p style="margin: 0; font-size: 12px; color: var(--text-secondary);">用眼疲勞、乾澀、視力保養</p>
                    </div>
                </div>
            </button>
            
            <button class="option-button" data-type="health-need" data-value="肝臟保健">
                <div class="d-flex align-items-center">
                    <i class="fas fa-tint" style="margin-right: 12px; color: var(--primary);"></i>
                    <div>
                        <p style="margin: 0 0 2px; font-weight: 600;">肝臟保健</p>
                        <p style="margin: 0; font-size: 12px; color: var(--text-secondary);">解酒、代謝、排毒</p>
                    </div>
                </div>
            </button>
            
            <button class="option-button" data-type="health-need" data-value="女性保健">
                <div class="d-flex align-items-center">
                    <i class="fas fa-venus" style="margin-right: 12px; color: var(--primary);"></i>
                    <div>
                        <p style="margin: 0 0 2px; font-weight: 600;">女性保健</p>
                        <p style="margin: 0; font-size: 12px; color: var(--text-secondary);">經期調理、更年期、孕期營養</p>
                    </div>
                </div>
            </button>
            
            <button class="option-button" data-type="health-need" data-value="消化系統保健">
                <div class="d-flex align-items-center">
                    <i class="fas fa-apple-alt" style="margin-right: 12px; color: var(--primary);"></i>
                    <div>
                        <p style="margin: 0 0 2px; font-weight: 600;">消化系統保健</p>
                        <p style="margin: 0; font-size: 12px; color: var(--text-secondary);">腸胃健康、消化不良</p>
                    </div>
                </div>
            </button>
            
            <button class="option-button" data-type="health-need" data-value="體重管理">
                <div class="d-flex align-items-center">
                    <i class="fas fa-weight" style="margin-right: 12px; color: var(--primary);"></i>
                    <div>
                        <p style="margin: 0 0 2px; font-weight: 600;">體重管理</p>
                        <p style="margin: 0; font-size: 12px; color: var(--text-secondary);">新陳代謝、飽足感、控制食慾</p>
                    </div>
                </div>
            </button>

            <button class="option-button" data-type="health-need" data-value="其他">
                <div class="d-flex align-items-center">
                    <i class="fas fa-plus" style="margin-right: 12px; color: var(--primary);"></i>
                    <div>
                        <p style="margin: 0 0 2px; font-weight: 600;">其他健康需求</p>
                        <p style="margin: 0; font-size: 12px; color: var(--text-secondary);">輸入您的特定需求</p>
                    </div>
                </div>
            </button>
        </div>

        <div id="health-need-response" style="display: none;">
            <div class="chat-message right">
                <div class="chat-bubble user">
                    <p style="margin: 0;">我選擇<span class="selected-health-need"></span></p>
                </div>
            </div>

            <div class="chat-message">
                <div class="avatar" style="background-color: var(--primary);">
                    <i class="fas fa-archive"></i>
                </div>
                <div class="chat-bubble">
                    <p style="margin: 0;">了解！<span class="health-need-feedback"></span>接下來，請告訴我你目前的生活型態，這樣我能整理更多適合你情況的熱門選項喔～</p>
                </div>
            </div>
        </div>

        <!-- 生活型態選項 -->
        <div id="lifestyle-options" style="margin-bottom: 24px; display: none;">
            <button class="option-button" data-type="lifestyle" data-value="長時間工作">
                <div class="d-flex align-items-center">
                    <i class="fas fa-briefcase" style="margin-right: 12px; color: var(--primary);"></i>
                    <div>
                        <p style="margin: 0 0 2px; font-weight: 600;">長時間工作</p>
                        <p style="margin: 0; font-size: 12px; color: var(--text-secondary);">工作壓力大、久坐</p>
                    </div>
                </div>
            </button>

            <button class="option-button" data-type="lifestyle" data-value="經常運動">
                <div class="d-flex align-items-center">
                    <i class="fas fa-running" style="margin-right: 12px; color: var(--primary);"></i>
                    <div>
                        <p style="margin: 0 0 2px; font-weight: 600;">經常運動</p>
                        <p style="margin: 0; font-size: 12px; color: var(--text-secondary);">健身、跑步等運動</p>
                    </div>
                </div>
            </button>

            <button class="option-button" data-type="lifestyle" data-value="飲食不規律">
                <div class="d-flex align-items-center">
                    <i class="fas fa-hamburger" style="margin-right: 12px; color: var(--primary);"></i>
                    <div>
                        <p style="margin: 0 0 2px; font-weight: 600;">飲食不規律</p>
                        <p style="margin: 0; font-size: 12px; color: var(--text-secondary);">外食多、不定時進食</p>
                    </div>
                </div>
            </button>

            <button class="option-button" data-type="lifestyle" data-value="長時間使用電子產品">
                <div class="d-flex align-items-center">
                    <i class="fas fa-laptop" style="margin-right: 12px; color: var(--primary);"></i>
                    <div>
                        <p style="margin: 0 0 2px; font-weight: 600;">長時間使用電子產品</p>
                        <p style="margin: 0; font-size: 12px; color: var(--text-secondary);">電腦、手機、平板</p>
                    </div>
                </div>
            </button>

            <button class="option-button" data-type="lifestyle" data-value="經常熬夜">
                <div class="d-flex align-items-center">
                    <i class="fas fa-hourglass-half" style="margin-right: 12px; color: var(--primary);"></i>
                    <div>
                        <p style="margin: 0 0 2px; font-weight: 600;">經常熬夜</p>
                        <p style="margin: 0; font-size: 12px; color: var(--text-secondary);">睡眠不規律、睡眠品質差</p>
                    </div>
                </div>
            </button>

            <button class="option-button" data-type="lifestyle" data-value="經常外食">
                <div class="d-flex align-items-center">
                    <i class="fas fa-utensils" style="margin-right: 12px; color: var(--primary);"></i>
                    <div>
                        <p style="margin: 0 0 2px; font-weight: 600;">經常外食</p>
                        <p style="margin: 0; font-size: 12px; color: var(--text-secondary);">外食、外送、便利商店</p>
                    </div>
                </div>
            </button>
        </div>

        <div id="lifestyle-response" style="display: none;">
            <div class="chat-message right">
                <div class="chat-bubble user">
                    <p style="margin: 0;">我的生活型態是<span class="selected-lifestyle"></span></p>
                </div>
            </div>

            <div class="chat-message">
                <div class="avatar" style="background-color: var(--primary);">
                    <i class="fas fa-archive"></i>
                </div>
                <div class="chat-bubble">
                    <p style="margin: 0;">有幫到你真好！最後，有沒有什麼預算考量呢？這樣我能整理出更符合你的選項～</p>
                </div>
            </div>
        </div>

        <!-- 預算選項 -->
        <div id="budget-options" style="margin-bottom: 24px; display: none;">
            <button class="option-button" data-type="budget" data-value="500">
                <div class="d-flex align-items-center">
                    <i class="fas fa-dollar-sign" style="margin-right: 12px; color: var(--primary);"></i>
                    <div>
                        <p style="margin: 0 0 2px; font-weight: 600;">經濟實惠型（500元以下）</p>
                        <p style="margin: 0; font-size: 12px; color: var(--text-secondary);">基本需求，平價選擇</p>
                    </div>
                </div>
            </button>

            <button class="option-button" data-type="budget" data-value="1000">
                <div class="d-flex align-items-center">
                    <i class="fas fa-dollar-sign" style="margin-right: 12px; color: var(--primary);"></i>
                    <div>
                        <p style="margin: 0 0 2px; font-weight: 600;">中等預算（500-1000元）</p>
                        <p style="margin: 0; font-size: 12px; color: var(--text-secondary);">性價比高，品質保證</p>
                    </div>
                </div>
            </button>

            <button class="option-button" data-type="budget" data-value="2000">
                <div class="d-flex align-items-center">
                    <i class="fas fa-dollar-sign" style="margin-right: 12px; color: var(--primary);"></i>
                    <div>
                        <p style="margin: 0 0 2px; font-weight: 600;">高品質型（1000元以上）</p>
                        <p style="margin: 0; font-size: 12px; color: var(--text-secondary);">高檔品牌，專業配方</p>
                    </div>
                </div>
            </button>

            <button class="option-button" data-type="budget" data-value="0">
                <div class="d-flex align-items-center">
                    <i class="fas fa-infinity" style="margin-right: 12px; color: var(--primary);"></i>
                    <div>
                        <p style="margin: 0 0 2px; font-weight: 600;">無預算限制</p>
                        <p style="margin: 0; font-size: 12px; color: var(--text-secondary);">優先考慮效果與品質</p>
                    </div>
                </div>
            </button>
        </div>

        <div id="budget-response" style="display: none;">
            <div class="chat-message right">
                <div class="chat-bubble user">
                    <p style="margin: 0;">我選擇<span class="selected-budget"></span></p>
                </div>
            </div>

            <div class="chat-message">
                <div class="avatar" style="background-color: var(--primary);">
                    <i class="fas fa-archive"></i>
                </div>
                <div class="chat-bubble">
                    <p style="margin: 0;">太好了！我已經收集到你的需求了。現在我來為你整理一下熱門推薦的保健品組合吧！</p>
                </div>
            </div>
        </div>

        <!-- 加載指示器 -->
        <div id="loading-indicator" style="text-align: center; margin: 20px 0; display: none;">
            <div class="loading-spinner"></div>
            <p style="margin-top: 10px; color: var(--text-secondary);">正在為你整理資訊中...</p>
        </div>

        <!-- 提交按鈕 -->
        <div id="submit-container" style="margin-top: 20px; text-align: center; display: none;">
            <button id="submit-selections" class="btn-primary" style="width: 100%; padding: 12px;">
                <i class="fas fa-search"></i> 獲取推薦
            </button>
        </div>
    </div>

    <!-- 底部導航欄 -->
    <div class="tab-bar">
        <a href="home.html" class="tab-item">
            <i class="fas fa-home"></i>
            <span>首頁</span>
        </a>
        <a href="chat.html" class="tab-item active">
            <i class="fas fa-comment-medical"></i>
            <span>諮詢</span>
        </a>
        <a href="knowledge.html" class="tab-item">
            <i class="fas fa-book-medical"></i>
            <span>知識庫</span>
        </a>
        <a href="#" class="tab-item">
            <i class="fas fa-user"></i>
            <span>我的</span>
        </a>
    </div>

    <!-- 引入腳本 -->
    <script src="js/recommendationEngine.js"></script>
    <script src="js/main.js"></script>
</body>
</html> 