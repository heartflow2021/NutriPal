<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NutriPal ç‡Ÿé¤Šå¥½æœ‹å‹ - é¦–é </title>
    <link rel="icon" type="image/x-icon" href="icon_pal.ico">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/index.css">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'; this.onload=null;">
    <noscript><link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet"></noscript>
    
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"></noscript>
    
</head>
<body>
    <!-- é ‚éƒ¨ç°¡åŒ–å…è²¬è²æ˜ -->
    <div class="top-disclaimer">
        <i class="fas fa-heart"></i>
        <span class="top-disclaimer-text">å°å¸•åƒ…æä¾›ç‡Ÿé¤Šè³‡è¨Šèˆ‡çŸ¥è­˜æ•´ç†ï¼Œä¸æä¾›ä»»ä½•é†«ç™‚è¨ºæ–·ã€æ²»ç™‚æˆ–é é˜²å»ºè­°ï¼Œæ‰€æœ‰å…§å®¹åƒ…ä¾›åƒè€ƒï¼Œå¥åº·æ±ºç­–è«‹è«®è©¢å°ˆæ¥­é†«å¸«ï½</span>
        <button class="top-disclaimer-toggle" onclick="toggleDisclaimer(this)">
            <i class="fas fa-chevron-down"></i>
        </button>
    </div>

    <!-- é ‚éƒ¨å°èˆª -->
    <div class="nav-header">
        <div class="spacer-24"></div> <!-- ç‚ºäº†ä¿æŒå…©é‚Šå°ç¨± -->
        <div class="nav-title">NutriPal ç‡Ÿé¤Šå¥½æœ‹å‹</div>
        <div class="spacer-24"></div> <!-- ç‚ºäº†ä¿æŒå…©é‚Šå°ç¨± -->
    </div>

    <!-- ä¸»è¦å…§å®¹å€ -->
    <div class="app-content">
        <!-- é ‚éƒ¨å“ç‰Œå€ -->
        <div style="padding: 20px 20px 0;" /* keep-inline */>
            <div style="display: flex; align-items: center; margin-bottom: 16px;" /* keep-inline */>
                <!-- å°å¸• PalPal å‰ç¥¥ç‰©åœ–æ¨™ - ä½¿ç”¨æ–°ä¸Šå‚³çš„åœ–ç‰‡ -->
                <div class="avatar avatar-transparent">
                    <img src="images/mascot/palpal-avatar.png" alt="å°å¸•" class="avatar-image">
                </div>
                <h1 style="margin: 0 0 0 12px; font-size: 24px;" /* keep-inline */>NutriPal ç‡Ÿé¤Šå¥½æœ‹å‹</h1>
            </div>
            <p style="font-size: 18px; font-weight: 600; margin-bottom: 4px;" /* keep-inline */>å“ˆå›‰ï¼æˆ‘æ˜¯å°å¸• PalPal</p>
            <p style="color: var(--text-secondary); margin-top: 0;" /* keep-inline */>è®“æˆ‘å¹«ä½ æ‰¾åˆ°æœ€å¤šäººä½¿ç”¨çš„ç‡Ÿé¤Šè£œå……æ–¹æ¡ˆï¼</p>
        </div>

        <!-- ä¸»è¦ CTA æŒ‰éˆ• -->
        <div style="padding: 20px 20px 0;" /* keep-inline */>
            <!-- å°å¸•å°è©±æ¡† -->
            <div class="chat-message chat-message-animated">
                <div class="avatar avatar-transparent">
                    <img src="images/mascot/palpal-avatar.png" alt="å°å¸•" class="avatar-image">
                </div>
                <div class="chat-bubble">
                    <p class="text-margin-bottom-8" style="font-weight: 600;" /* keep-inline */>å°å¸• PalPal</p>
                    <p class="text-no-margin">ä½ å¥½å•Šï½æˆ‘å¯ä»¥æ•´ç†å‡ºè¨±å¤šäººå–œæ­¡çš„ä¿å¥å“çµ„åˆä¾›ä½ åƒè€ƒå–”ï¼éœ€è¦æˆ‘å¹«ä½ æ•´ç†å“ªæ–¹é¢çš„è³‡è¨Šå‘¢ï¼Ÿ</p>
                </div>
            </div>
        </div>

        <!-- ç†±é–€å¥åº·éœ€æ±‚ - æ•´åˆäº†ç”¨æˆ¶äº’å‹•å€ -->
        <div style="padding: 0 20px; margin-bottom: 20px;" /* keep-inline */>
            <div class="chat-message right chat-message-animated">
                <div class="chat-bubble user">
                    <p class="text-no-margin">æˆ‘æƒ³äº†è§£é—œæ–¼...</p>
                </div>
            </div>
            
            <!-- ç†±é–€å¥åº·éœ€æ±‚æ¨™ç±¤ - æ”¹ç‚ºå‹•æ…‹ç”Ÿæˆ -->
            <div class="health-tags-section">
                <h3 class="health-tags-title">ç†±é–€å¥åº·éœ€æ±‚</h3>
                <div id="health-badges-container" class="health-badges-container">
                    <!-- ç”±JavaScriptå‹•æ…‹ç”Ÿæˆå…§å®¹ -->
                </div>
            </div>
            
            <div class="chat-message chat-message-animated" style="margin-top: 16px;" /* keep-inline */>
                <div class="avatar avatar-transparent">
                    <img src="images/mascot/palpal-avatar.png" alt="å°å¸•" class="avatar-image">
                </div>
                <div class="chat-bubble">
                    <p class="text-no-margin">æƒ³äº†è§£æ›´å¤šå¥åº·éœ€æ±‚ï¼Ÿè®“æˆ‘å€‘é–‹å§‹æ›´å®Œæ•´çš„å°è©±å§ï¼</p>
                </div>
            </div>
            
            <a href="chat.html" class="btn-primary" style="width: 100%; display: block; margin-top: 20px;" /* keep-inline */>
                <i class="fas fa-comment-dots"></i> äº†è§£ç‡Ÿé¤Šé¸æ“‡
            </a>
        </div>

        <!-- ç”¢å“ç‰¹è‰² -->
        <div class="feature-section">
            <h2>å°å¸•èƒ½ç‚ºä½ åšä»€éº¼</h2>
            
            <div class="feature-container">
                <div class="feature-item">
                    <div class="feature-icon">
                        <i class="fas fa-search"></i>
                    </div>
                    <div class="feature-content">
                        <h3>å¹«ä½ æ•´ç†ä¿å¥å“ç†±é–€é¸æ“‡</h3>
                        <p>æˆ‘æœƒä¾æ“šä½ çš„éœ€æ±‚ï¼Œæ‰¾å‡ºå…¶ä»–äººå¸¸ç”¨çš„ä¿å¥å“çµ„åˆ</p>
                    </div>
                </div>
                
                <div class="feature-item">
                    <div class="feature-icon">
                        <i class="fas fa-comments"></i>
                    </div>
                    <div class="feature-content">
                        <h3>åƒæœ‹å‹ä¸€æ¨£é™ªä½ é¸æ“‡</h3>
                        <p>ç”¨èŠå¤©çš„æ–¹å¼ï¼Œè¼•é¬†äº†è§£ä½ çš„å¥åº·éœ€æ±‚å’Œç”Ÿæ´»ç¿’æ…£</p>
                    </div>
                </div>
                
                <div class="feature-item">
                    <div class="feature-icon">
                        <i class="fas fa-calendar-check"></i>
                    </div>
                    <div class="feature-content">
                        <h3>æä¾›å‹å–„ä¿å¥å“ä½¿ç”¨æŒ‡å—</h3>
                        <p>æ•´ç†å¸¸è¦‹çš„ä¿å¥å“ä½¿ç”¨æ™‚é–“å’Œæ³¨æ„äº‹é …ï¼Œæ–¹ä¾¿ä½ åƒè€ƒ</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ç”¨æˆ¶è©•åƒ¹ -->
        <div style="padding: 20px;" /* keep-inline */>
            <h2 style="font-size: 18px; margin-bottom: 16px;" /* keep-inline */>ç”¨æˆ¶åˆ†äº«</h2>
            
            <div id="testimonials-container" class="testimonials-container">
                <!-- ç”¨æˆ¶åˆ†äº«å°‡ç”± JavaScript å‹•æ…‹åŠ è¼‰ -->
            </div>
        </div>

        <!-- å°ˆæ¥­èƒŒæ›¸èˆ‡å…è²¬è²æ˜ -->
        <div style="padding: 20px; margin-bottom: 20px;">
            <div class="disclaimer-wrapper">
                <!-- ä½¿ç”¨å°å¸•åœ–ç‰‡ -->
                <img src="images/mascot/palpal.png" alt="å°å¸•" class="disclaimer-character" onerror="this.src='https://i.imgur.com/n3C4rQs.png'; this.onerror='';">
                
                <p class="disclaimer-title">å°å¸•æ˜¯è³‡è¨Šæ•´ç†å°å¹«æ‰‹ï¼Œä¸æ˜¯é†«å¸«</p>
                <p class="disclaimer-subtitle">æˆ‘æœƒæ•´ç†ç‡Ÿé¤ŠçŸ¥è­˜å’Œç†±é–€è³‡è¨Šä¾›ä½ åƒè€ƒï¼Œä½†ä¸æä¾›é†«ç™‚å»ºè­°å–”ï¼</p>
                
                <div class="disclaimer-counter">
                    å·²å¹«åŠ© <strong>2,483</strong> ä½æœ‹å‹äº†è§£ç‡Ÿé¤ŠçŸ¥è­˜
                </div>
                
                <div class="disclaimer-notices">
                    <p class="disclaimer-notice">
                        <strong>è¯ç›Ÿè¡ŒéŠ·é—œä¿‚æ­éœ²ï¼š</strong>æœ¬ç¶²ç«™èˆ‡ iHerb ç­‰å¹³å°æœ‰è¯ç›Ÿè¡ŒéŠ·åˆä½œé—œä¿‚ã€‚ç•¶æ‚¨é€éæˆ‘å€‘çš„é€£çµè³¼è²·ç”¢å“æ™‚ï¼Œæˆ‘å€‘æœƒæ”¶åˆ°ä¸€å®šçš„ä½£é‡‘ï¼Œé€™ä¸æœƒå¢åŠ æ‚¨çš„è³¼è²·æˆæœ¬ã€‚æˆ‘å€‘æ•´ç†çš„ç”¢å“è³‡è¨Šæ˜¯åŸºæ–¼å¥åº·çŸ¥è­˜ä¸»é¡Œï¼Œè€Œéç™‚æ•ˆå®£å‚³ã€‚
                    </p>
                    <p class="disclaimer-notice">
                        <strong>å…è²¬è²æ˜ï¼š</strong>æœ¬ç¶²ç«™æä¾›çš„è³‡è¨Šåƒ…ä½œç‚ºä¸€èˆ¬çŸ¥è­˜åƒè€ƒï¼Œä¸æ§‹æˆé†«ç™‚å»ºè­°ã€‚ä¿å¥å“ä¸èƒ½é é˜²ã€è¨ºæ–·ã€æ²»ç™‚æˆ–æ²»ç™’ä»»ä½•ç–¾ç—…ã€‚è‹¥æœ‰å¥åº·å•é¡Œï¼Œè«‹è«®è©¢å°ˆæ¥­é†«å¸«ã€‚
                    </p>
                    <p class="disclaimer-notice">
                        <strong>æ³•è¦éµå¾ªè²æ˜ï¼š</strong>æœ¬ç¶²ç«™éµå¾ªå°ç£è¡›ç”Ÿç¦åˆ©éƒ¨ç›¸é—œæ³•è¦ï¼Œä¸å®£ç¨±ä»»ä½•ç‡Ÿé¤Šè£œå……å“æœ‰é é˜²ã€æ”¹å–„æˆ–æ²»ç™‚ç–¾ç—…çš„åŠŸæ•ˆã€‚ç”¨æˆ¶åˆ†äº«åƒ…ä»£è¡¨å€‹äººç¶“é©—ï¼Œä¸ä»£è¡¨æ‰€æœ‰äººéƒ½æœƒæœ‰ç›¸åŒæ•ˆæœï¼Œä¹Ÿä¸èƒ½å–ä»£å°ˆæ¥­é†«ç™‚å»ºè­°ã€‚
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- åº•éƒ¨å°èˆªæ¬„ -->
    <div class="tab-bar">
        <a href="index.html" class="tab-item active">
            <i class="fas fa-home"></i>
            <span>é¦–é </span>
        </a>
        <a href="chat.html" class="tab-item">
            <i class="fas fa-comment-medical"></i>
            <span>è«®è©¢</span>
        </a>
        <a href="knowledge.html" class="tab-item">
            <i class="fas fa-book-medical"></i>
            <span>çŸ¥è­˜åº«</span>
        </a>
    </div>

    <!-- æ·»åŠ éš¨æ©Ÿç†±é–€å¥åº·éœ€æ±‚çš„JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // é˜²æ­¢ç€è¦½å™¨ç·©å­˜
            const cacheBuster = new Date().getTime();
            
            // è¼‰å…¥ç†±é–€å¥åº·éœ€æ±‚æ’åæ•¸æ“š
            fetch(`data/mappings/health_needs_ranking.json?_=${cacheBuster}`)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('ç„¡æ³•è¼‰å…¥å¥åº·éœ€æ±‚æ’åæ•¸æ“š');
                    }
                    return response.json();
                })
                .then(data => {
                    // ç²å–æ’åæ•¸æ“š
                    const healthNeeds = data.ranking;
                    
                    // æª¢æŸ¥æ˜¯å¦ç‚ºç§»å‹•è¨­å‚™
                    const isMobile = window.innerWidth <= 576;
                    
                    // é¸æ“‡é¡¯ç¤ºæ•¸é‡ (ç§»å‹•è¨­å‚™é¡¯ç¤ºæ›´å¤šï¼Œè®“ä½¿ç”¨è€…å¯ä»¥æ»‘å‹•ç€è¦½)
                    const displayCount = isMobile ? 8 : 6;
                    
                    // ä½¿ç”¨ Fisher-Yates æ´—ç‰Œç®—æ³•éš¨æ©Ÿæ‰“äº‚é™£åˆ—
                    function shuffleArray(array) {
                        const result = [...array];
                        for (let i = result.length - 1; i > 0; i--) {
                            // ç”¢ç”Ÿ0åˆ°iä¹‹é–“çš„éš¨æ©Ÿç´¢å¼•
                            const j = Math.floor(Math.random() * (i + 1));
                            // äº¤æ›å…ƒç´ 
                            [result[i], result[j]] = [result[j], result[i]];
                        }
                        return result;
                    }
                    
                    // å°‡å¥åº·éœ€æ±‚ä¾ç…§ä¸»è¦é¡åˆ¥åˆ†çµ„
                    function groupNeeds(needs) {
                        // ç¢ºä¿çµæœæœ‰å¤šæ¨£æ€§
                        const categories = {};
                        needs.forEach(need => {
                            const category = need.category || 'å…¶ä»–';
                            if (!categories[category]) {
                                categories[category] = [];
                            }
                            categories[category].push(need);
                        });
                        
                        // å¾æ¯å€‹é¡åˆ¥é¸æ“‡ä¸€äº›
                        let result = [];
                        Object.values(categories).forEach(categoryNeeds => {
                            const shuffled = shuffleArray(categoryNeeds);
                            result = result.concat(shuffled.slice(0, 2)); // æ¯é¡é¸2å€‹
                        });
                        
                        // å¦‚æœä¸å¤ ï¼Œå†å¾å…¨éƒ¨ä¸­éš¨æ©Ÿè£œå……
                        if (result.length < displayCount) {
                            const remainingNeeds = shuffleArray(needs.filter(n => !result.includes(n)));
                            result = result.concat(remainingNeeds.slice(0, displayCount - result.length));
                        }
                        
                        // æ‰“äº‚æœ€çµ‚é †åº
                        return shuffleArray(result).slice(0, displayCount);
                    }
                    
                    // ç²å–åˆ†çµ„å¾Œçš„å¥åº·éœ€æ±‚
                    const selected = groupNeeds(healthNeeds);
                    
                    // ç²å–å®¹å™¨å…ƒç´ 
                    const container = document.getElementById('health-badges-container');
                    
                    // æ¸…ç©ºå®¹å™¨
                    container.innerHTML = '';
                    
                    // æ·»åŠ éš¨æ©Ÿé¸æ“‡çš„å¥åº·éœ€æ±‚æ¨™ç±¤
                    selected.forEach(need => {
                        const badge = document.createElement('a');
                        badge.href = `chat.html?health=${encodeURIComponent(need.name)}`;
                        badge.className = 'health-badge';
                        badge.setAttribute('data-category', need.category || 'å…¶ä»–');
                        badge.setAttribute('data-rank', need.rank || 999);
                        badge.innerHTML = `<i class="${need.icon}"></i> ${need.name}`;
                        
                        container.appendChild(badge);
                    });
                    
                    // åœ¨æ§åˆ¶å°è¼¸å‡ºç•¶å‰é¸æ“‡çš„å¥åº·éœ€æ±‚ï¼Œæ–¹ä¾¿èª¿è©¦
                    console.log('ç•¶å‰é¡¯ç¤ºçš„å¥åº·éœ€æ±‚:', selected.map(item => item.name));
                })
                .catch(error => {
                    console.error('è¼‰å…¥å¥åº·éœ€æ±‚æ’åå¤±æ•—:', error);
                    
                    // å¦‚æœè¼‰å…¥å¤±æ•—ï¼Œé¡¯ç¤ºé»˜èªå¥åº·éœ€æ±‚
                    const defaultNeeds = [
                        { name: 'ç¡çœ å“è³ª', icon: 'fas fa-moon', category: 'æ—¥å¸¸å¥åº·' },
                        { name: 'å…ç–«åŠ›æå‡', icon: 'fas fa-shield-virus', category: 'é é˜²ä¿å¥' },
                        { name: 'è¨˜æ†¶åŠ›', icon: 'fas fa-brain', category: 'è…¦éƒ¨å¥åº·' },
                        { name: 'é—œç¯€ä¿é¤Š', icon: 'fas fa-walking', category: 'éª¨éª¼å¥åº·' },
                        { name: 'çœ¼ç›ä¿å¥', icon: 'fas fa-eye', category: 'æ„Ÿå®˜å¥åº·' },
                        { name: 'è…¸é“å¥åº·', icon: 'fas fa-heartbeat', category: 'æ¶ˆåŒ–ç³»çµ±' }
                    ];
                    
                    const container = document.getElementById('health-badges-container');
                    container.innerHTML = '';
                    
                    defaultNeeds.forEach(need => {
                        const badge = document.createElement('a');
                        badge.href = `chat.html?health=${encodeURIComponent(need.name)}`;
                        badge.className = 'health-badge';
                        badge.setAttribute('data-category', need.category);
                        badge.innerHTML = `<i class="${need.icon}"></i> ${need.name}`;
                        
                        container.appendChild(badge);
                    });
                });
                
            // ç”¨æˆ¶åˆ†äº«éƒ¨åˆ† - å¢åŠ æ›´å¤šç”¨æˆ¶ä¸¦å¯¦ç¾éš¨æ©Ÿé¡¯ç¤º
            const allTestimonials = [
                {
                    name: 'é»ƒå¥³å£«',
                    icon: 'fas fa-user',
                    age: '58',
                    job: 'é€€ä¼‘äººå£«',
                    rating: 5,
                    text: 'ç¶²ç«™è¨­è¨ˆç°¡æ½”æ˜ç­ï¼Œå³ä½¿æˆ‘é€™å¹´ç´€çš„äººä¹Ÿèƒ½è¼•é¬†ç€è¦½ã€‚ç‰¹åˆ¥å–œæ­¡å¥åº·åˆ†é¡çš„åœ–æ¨™è¨­è¨ˆï¼Œè®“æˆ‘ä¸€çœ¼å°±èƒ½æ‰¾åˆ°æƒ³äº†è§£çš„å…§å®¹ï¼Œä¸éœ€è¦åˆ°è™•é»æ“Šå°‹æ‰¾ã€‚'
                },
                {
                    name: 'é™³å°å§',
                    icon: 'fas fa-user',
                    age: '40',
                    job: 'ä¸Šç­æ—',
                    rating: 5,
                    text: 'ç¡çœ ç›¸é—œçš„æ–‡ç« å°æˆ‘å¹«åŠ©å¾ˆå¤§ã€‚ä½œç‚ºä¸Šç­æ—ï¼Œå£“åŠ›å¤§å¸¸å½±éŸ¿ç¡çœ ï¼Œé€™è£¡æä¾›äº†å¾ˆå¤šå¯¦ç”¨çš„æ”¾é¬†æŠ€å·§å’Œç‡Ÿé¤Šå»ºè­°ï¼Œè®“æˆ‘çŸ¥é“å¦‚ä½•æ”¹å–„ç¡çœ å“è³ªã€‚'
                },
                {
                    name: 'è¶™å…ˆç”Ÿ',
                    icon: 'fas fa-user',
                    age: '36',
                    job: 'éŠ·å”®ç¶“ç†',
                    rating: 4,
                    text: 'é€™å€‹ç¶²ç«™æœ€æ£’çš„æ˜¯å°è©±å¼çš„äº’å‹•è¨­è¨ˆï¼Œéå¸¸ç›´è¦ºã€‚æˆ‘åªéœ€ç°¡å–®å›ç­”å¹¾å€‹å•é¡Œï¼Œå°å¸•å°±èƒ½å¹«æˆ‘æ•´ç†å‡ºé©åˆçš„ä¿å¥å“é¸æ“‡å’Œæœç”¨å»ºè­°ï¼Œä¸åƒå…¶ä»–ç¶²ç«™è¦è‡ªå·±æœå°‹æ¯”è¼ƒï¼Œçœä¸‹å¾ˆå¤šæ™‚é–“ã€‚'
                },
                {
                    name: 'æ—å°å§',
                    icon: 'fas fa-user',
                    age: '32',
                    job: 'è­·ç†å¸«',
                    rating: 5,
                    text: 'å…ç–«ç›¸é—œçš„æ–‡ç« å…§å®¹ç´®å¯¦ï¼Œå¼•ç”¨çš„è³‡æ–™ä¹Ÿå¾ˆå°ˆæ¥­ã€‚ä½œç‚ºè­·ç†å¸«ï¼Œæˆ‘èƒ½çœ‹å‡ºé€™äº›å…§å®¹ç¢ºå¯¦åƒè€ƒäº†å¯é çš„é†«å­¸è³‡æºï¼Œè€Œä¸æ˜¯ç¶²è·¯ä¸Šçš„å½ç§‘å­¸ã€‚'
                },
                {
                    name: 'æå…ˆç”Ÿ',
                    icon: 'fas fa-user',
                    age: '45',
                    job: 'å¥èº«æ•™ç·´',
                    rating: 5,
                    text: 'ç¶²ç«™çš„é–±è®€é«”é©—å¾ˆèˆ’é©ï¼Œå­—é«”å¤§å°é©ä¸­ä¸”æ¸…æ™°ã€‚æˆ‘å¸¸åœ¨é–’æš‡æ™‚é–“é–±è®€é—œæ–¼å¿ƒè¡€ç®¡å¥åº·çš„è³‡è¨Šï¼Œæ•´é«”æ–‡ç« æ’ç‰ˆåˆç†ï¼Œé–±è®€èµ·ä¾†ä¸æœƒæ„Ÿåˆ°ç–²å‹ã€‚'
                },
                {
                    name: 'å³å°å§',
                    icon: 'fas fa-user',
                    age: '28',
                    job: 'è»Ÿé«”å·¥ç¨‹å¸«',
                    rating: 4,
                    text: 'æ–‡ç« å…§å®¹å±¤æ¬¡åˆ†æ˜ï¼Œå¾å…¥é–€åˆ°é€²éšï¼Œè®“æˆ‘é€™å€‹å¥åº·çŸ¥è­˜å°ç™½ä¹Ÿèƒ½é€æ­¥ç†è§£ã€‚ç‰¹åˆ¥æ˜¯é—œæ–¼èªçŸ¥èˆ‡å°ˆæ³¨åŠ›çš„æ–‡ç« ï¼Œè§£é‡‹å¾—éå¸¸æ¸…æ¥šæ˜“æ‡‚ã€‚'
                },
                {
                    name: 'ç‹å…ˆç”Ÿ',
                    icon: 'fas fa-user',
                    age: '52',
                    job: 'ä¼æ¥­ä¸»ç®¡',
                    rating: 5,
                    text: 'ç¶²ç«™çš„ç„¡å»£å‘Šè¨­è¨ˆå¾ˆèˆ’é©ï¼Œä½†æœ€å–œæ­¡çš„æ˜¯å°å¸•é€™å€‹è§’è‰²çš„é™ªä¼´æ„Ÿã€‚æ¯æ¬¡é–±è®€æ–‡ç« ï¼Œå°å¸•éƒ½åƒæœ‹å‹ä¸€æ¨£åœ¨èº«é‚Šè§£èªªï¼Œæ–‡ç« æœ€å¾Œçš„æº«é¦¨æé†’ä¹Ÿå¾ˆè²¼å¿ƒï¼Œè®“ç‡Ÿé¤ŠçŸ¥è­˜ä¸å†å†°å†·è‰±æ¾€ã€‚'
                },
                {
                    name: 'è¬å°å§',
                    icon: 'fas fa-user',
                    age: '31',
                    job: 'ç‘œä¼½è€å¸«',
                    rating: 5,
                    text: 'å­£ç¯€æ€§éæ•çš„ç›¸é—œå»ºè­°å°æˆ‘å¹«åŠ©å¾ˆå¤§ï¼Œæä¾›çš„ç”Ÿæ´»èª¿æ•´æ–¹å¼å’Œé£²é£Ÿå»ºè­°å¾ˆå¯¦ç”¨ã€‚ä½œç‚ºç‘œä¼½è€å¸«ï¼Œæˆ‘ä¹ŸæŠŠé€™äº›çŸ¥è­˜èå…¥åˆ°æˆ‘çš„èª²ç¨‹ä¸­åˆ†äº«çµ¦å­¸ç”Ÿã€‚'
                },
                {
                    name: 'é„­å…ˆç”Ÿ',
                    icon: 'fas fa-user',
                    age: '38',
                    job: 'å·¥ç¨‹å¸«',
                    rating: 4,
                    text: 'ç¶²ç«™çš„åœ–è¡¨å’Œæ•¸æ“šè¦–è¦ºåŒ–åšå¾—å¾ˆå¥½ï¼Œä½œç‚ºç†å·¥ç”·ç‰¹åˆ¥æ¬£è³ã€‚è¤‡é›œçš„å¥åº·è³‡è¨Šé€šéç›´è§€çš„åœ–è¡¨å‘ˆç¾ï¼Œè®“äººä¸€ç›®äº†ç„¶ï¼Œæ¯”ç´”æ–‡å­—æè¿°å®¹æ˜“ç†è§£å¤šäº†ã€‚'
                },
                {
                    name: 'å¼µå¥³å£«',
                    icon: 'fas fa-user',
                    age: '62',
                    job: 'é€€ä¼‘æ•™å¸«',
                    rating: 5,
                    text: 'æ·ºçœ å•é¡Œå›°æ“¾æˆ‘å¤šå¹´ï¼Œç¶²ç«™æä¾›çš„æ”¹å–„ç¡çœ å“è³ªçš„å»ºè­°éå¸¸å¯¦ç”¨ã€‚ä¸åƒå…¶ä»–ç¶²ç«™åªèªªè¦åƒä»€éº¼ä¿å¥å“ï¼Œé€™è£¡é‚„è¬›è§£äº†åŸç†å’Œç”Ÿæ´»ç¿’æ…£çš„èª¿æ•´æ–¹æ³•ã€‚'
                },
                {
                    name: 'åŠ‰å…ˆç”Ÿ',
                    icon: 'fas fa-user',
                    age: '48',
                    job: 'æ¥­å‹™ç¶“ç†',
                    rating: 4,
                    text: 'ç¶²ç«™å…§å®¹çš„æ›´æ–°é »ç‡å¾ˆé©ä¸­ï¼Œæ¯æ¬¡è¨ªå•éƒ½èƒ½çœ‹åˆ°ä¸€äº›æ–°å…§å®¹ï¼Œä½†åˆä¸æœƒéæ–¼é »ç¹è®“äººè·Ÿä¸ä¸Šã€‚é€™ç¨®ç¯€å¥å¾ˆé©åˆæˆ‘é€™ç¨®å¿™ç¢Œä½†åˆæƒ³æŒçºŒå­¸ç¿’çš„ä¸Šç­æ—ã€‚'
                },
                {
                    name: 'æ¥Šå°å§',
                    icon: 'fas fa-user',
                    age: '34',
                    job: 'ç‡Ÿé¤Šå¸«',
                    rating: 5,
                    text: 'ä½œç‚ºç‡Ÿé¤Šå¸«ï¼Œæˆ‘å¾ˆæ¬£è³ç¶²ç«™çš„å°è©±äº’å‹•æ¨¡å¼ï¼Œè®“è¤‡é›œçš„ä¿å¥å“è³‡è¨Šè®Šå¾—ç°¡å–®æ˜“æ‡‚ã€‚ç”¨æˆ¶åªè¦è·Ÿè‘—å°è©±æµç¨‹èµ°ï¼Œå°±èƒ½è¿…é€Ÿæ‰¾åˆ°é©åˆè‡ªå·±çš„ä¿å¥å“å’Œæ­£ç¢ºçš„ä½¿ç”¨æ–¹æ³•ï¼Œé€™æ˜¯å¾ˆå¤šå¥åº·ç¶²ç«™åšä¸åˆ°çš„ã€‚'
                },
                {
                    name: 'å‘¨å…ˆç”Ÿ',
                    icon: 'fas fa-user',
                    age: '56',
                    job: 'è¨ˆç¨‹è»Šå¸æ©Ÿ',
                    rating: 5,
                    text: 'ç¶²ç«™çš„æ–‡ç« é•·åº¦å¾ˆåˆé©ï¼Œæ—¢æœ‰æ·±åº¦åˆä¸æœƒå¤ªå†—é•·ï¼Œå°æˆ‘é€™ç¨®å·¥ä½œé–“éš™é–±è®€çš„äººä¾†èªªå¾ˆå‹å¥½ã€‚ç‰¹åˆ¥å–œæ­¡é—œæ–¼è¾¦å…¬å®¤å¿ƒè¡€ç®¡å¥åº·çš„å»ºè­°ï¼Œéå¸¸å¯¦ç”¨ã€‚'
                },
                {
                    name: 'è”¡å°å§',
                    icon: 'fas fa-user',
                    age: '29',
                    job: 'ç´ é£Ÿä¸»ç¾©è€…',
                    rating: 4,
                    text: 'èº«ç‚ºç´ é£Ÿè€…ï¼Œæˆ‘ç‰¹åˆ¥å–œæ­¡å¯æ„›çš„å°å¸•é™ªæˆ‘ä¸€èµ·å­¸ç¿’ç‡Ÿé¤ŠçŸ¥è­˜çš„æ„Ÿè¦ºã€‚æ–‡ç« æœ€å¾Œéƒ½æœƒæœ‰å°å¸•çš„é£²é£Ÿå°æé†’å’Œæ³¨æ„äº‹é …ï¼Œé€™äº›è²¼å¿ƒè¨­è¨ˆè®“å¥åº·çŸ¥è­˜è®Šå¾—æœ‰æº«åº¦ï¼Œä¹Ÿæ›´å®¹æ˜“è¨˜ä½é‡é»ã€‚'
                },
                {
                    name: 'é¦®å…ˆç”Ÿ',
                    icon: 'fas fa-user',
                    age: '42',
                    job: 'å°å­¸è€å¸«',
                    rating: 5,
                    text: 'ç¶²ç«™çš„å…§å®¹ç·¨æ’å¾ˆæœ‰ç³»çµ±ï¼Œæˆ‘ç¶“å¸¸å‘å®¶é•·æ¨è–¦é€™å€‹ç¶²ç«™ä¸Šçš„æœ‰ç”¨æ–‡ç« ã€‚è³‡è¨Šæ•´ç†å¾—å¾ˆå¥½ï¼Œèƒ½å¹«åŠ©å®¶é•·å€‘æ›´å¥½åœ°ç†è§£å…’ç«¥ç‡Ÿé¤Šéœ€æ±‚èˆ‡å¥åº·çŸ¥è­˜ã€‚'
                }
            ];
            
            // ä½¿ç”¨æ´—ç‰Œç®—æ³•éš¨æ©Ÿé¸æ“‡ç”¨æˆ¶åˆ†äº«
            function shuffleArray(array) {
                const result = [...array];
                for (let i = result.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [result[i], result[j]] = [result[j], result[i]];
                }
                return result;
            }
            
            // æ ¹æ“šè¢å¹•å¯¬åº¦æ±ºå®šé¡¯ç¤ºå¤šå°‘å€‹ç”¨æˆ¶åˆ†äº«
            function getDisplayCount() {
                if (window.innerWidth >= 1200) {
                    return 3; // å¤§è¢å¹•é¡¯ç¤º3å€‹
                } else if (window.innerWidth >= 768) {
                    return 2; // ä¸­ç­‰è¢å¹•é¡¯ç¤º2å€‹
                } else {
                    return 2; // æ‰‹æ©Ÿè¢å¹•é¡¯ç¤º2å€‹
                }
            }
            
            // æ‰“äº‚ä¸¦é¡¯ç¤ºç”¨æˆ¶åˆ†äº«
            function displayTestimonials() {
                const displayCount = getDisplayCount();
                const selectedTestimonials = shuffleArray(allTestimonials).slice(0, displayCount);
                console.log(`ç•¶å‰è¢å¹•å¯¬åº¦: ${window.innerWidth}px, é¡¯ç¤º${displayCount}å€‹ç”¨æˆ¶åˆ†äº«:`, selectedTestimonials.map(item => item.name));
                
                const testimonialsContainer = document.getElementById('testimonials-container');
                testimonialsContainer.innerHTML = ''; // æ¸…ç©ºå®¹å™¨
                
                selectedTestimonials.forEach(testimonial => {
                    const testimonialCard = document.createElement('div');
                    testimonialCard.className = 'testimonial-card';
                    
                    let stars = '';
                    for (let i = 0; i < 5; i++) {
                        if (i < testimonial.rating) {
                            stars += '<i class="fas fa-star" style="color: #F5B17B;" /* keep-inline js-generated */></i>';
                        } else {
                            stars += '<i class="far fa-star" style="color: #F5B17B;" /* keep-inline js-generated */></i>';
                        }
                    }
                    
                    testimonialCard.innerHTML = `
                        <div class="testimonial-header">
                            <div class="testimonial-avatar">
                                <i class="${testimonial.icon}"></i>
                            </div>
                            <div style="font-weight: 600; margin: 10px 0 5px; font-size: 16px;" /* keep-inline js-generated */>${testimonial.name}</div>
                            <div style="font-size: 14px; color: var(--text-secondary);" /* keep-inline js-generated */>${testimonial.age}æ­²ï¼Œ${testimonial.job}</div>
                        </div>
                        <p style="color: var(--text-secondary); margin: 0 0 15px; font-size: 14px; line-height: 1.6; text-align: center;" /* keep-inline js-generated */>${testimonial.text}</p>
                        <div style="text-align: center;" /* keep-inline js-generated */>${stars}</div>
                    `;
                    
                    testimonialsContainer.appendChild(testimonialCard);
                });
            }
            
            // åˆå§‹é¡¯ç¤º
            displayTestimonials();
            
            // ç›£è½çª—å£å¤§å°è®ŠåŒ–ï¼Œç•¶å°ºå¯¸è®ŠåŒ–è¼ƒå¤§æ™‚é‡æ–°è¨ˆç®—å’Œé¡¯ç¤º
            let lastWidth = window.innerWidth;
            window.addEventListener('resize', function() {
                // åªæœ‰ç•¶å°ºå¯¸è®ŠåŒ–è¶…éé‡è¦æ–·é»(breakpoint)æ™‚æ‰é‡æ–°é¡¯ç¤º
                const currentWidth = window.innerWidth;
                const isBreakpointChange = 
                    (lastWidth < 768 && currentWidth >= 768) || 
                    (lastWidth >= 768 && currentWidth < 768) ||
                    (lastWidth < 1200 && currentWidth >= 1200) ||
                    (lastWidth >= 1200 && currentWidth < 1200);
                
                if (isBreakpointChange) {
                    lastWidth = currentWidth;
                    displayTestimonials();
                }
            });
        });
    </script>


    
    <!-- æ·»åŠ å°è©±æ¡†æ¼¸å…¥å‹•ç•«çš„JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // é¸å–æ‰€æœ‰ chat-message å…ƒç´ 
            const chatMessages = document.querySelectorAll('.chat-message');
            
            // ä½¿ç”¨ setTimeout æ·»åŠ å»¶é²ï¼Œä½¿å‹•ç•«æ•ˆæœæ›´æ˜é¡¯
            chatMessages.forEach((message, index) => {
                setTimeout(() => {
                    message.style.opacity = '1';
                }, 100 * (index + 1)); // æ¯å€‹å°è©±æ¡†ä¾åºé¡¯ç¤º
            });
        });
    </script>
    
    <!-- ğŸ›¡ï¸ SSL éŒ¯èª¤è™•ç†å™¨ -->
    <script src="js/ssl-error-handler.js"></script>
</body>
</html> 