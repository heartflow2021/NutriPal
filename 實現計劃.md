# 營養好朋友 NutriPal - 網站實現計劃

## 一、技術選型與架構

### 前端技術棧
- **框架**: Next.js + React
- **樣式**: Tailwind CSS + 自定義組件
- **UI 庫**: Headless UI（輕量級無樣式組件庫）
- **表單處理**: React Hook Form + Zod
- **狀態管理**: React Context API（對於 MVP 階段足夠）
- **圖表與視覺化**: Chart.js（用於時間表顯示）
- **動畫效果**: Framer Motion（提升用戶體驗）

### 數據管理
- **產品數據庫**: Airtable（方便非技術人員管理產品信息）
- **用戶數據**: Supabase（開源 Firebase 替代品，提供身份驗證和數據存儲）
- **環境變數**: Vercel 環境變數管理

### 部署與托管
- **代碼托管**: GitHub
- **CI/CD**: GitHub Actions
- **托管平台**: Vercel（自動部署和邊緣函數支持）
- **域名註冊**: Namecheap 或 GoDaddy
- **HTTPS 證書**: Let's Encrypt（通過 Vercel 自動配置）

### 第三方服務
- **電子郵件**: SendGrid（郵件發送和訂閱管理）
- **分析工具**: Google Analytics 4 + Hotjar（用戶行為分析）
- **聯盟營銷**: iHerb 聯盟計劃 API

## 二、系統架構

```
                      ┌─────────────────┐
                      │     用戶瀏覽器    │
                      └────────┬────────┘
                               │
                               ▼
┌─────────────────────────────────────────────────────┐
│                    Vercel 托管的 Next.js            │
│                                                     │
│  ┌─────────────┐    ┌─────────────┐    ┌──────────┐ │
│  │   靜態頁面   │    │  API 路由    │    │ 邊緣函數  │ │
│  └─────────────┘    └─────────────┘    └──────────┘ │
└──────────────┬─────────────┬────────────┬───────────┘
               │             │            │
       ┌───────▼───────┐    ┌▼────────────▼┐    ┌─────▼─────┐
       │   Airtable    │    │   Supabase   │    │  SendGrid  │
       │ (產品數據庫)   │    │ (用戶數據)    │    │  (郵件)    │
       └───────────────┘    └───────────────┘    └───────────┘
```

## 三、開發階段與里程碑

### 第一階段：基礎設置與設計（1-2週）

#### 任務清單
1. **專案初始化**
   - [x] 創建 Next.js 專案
   - [ ] 設置 Tailwind CSS 與基本樣式
   - [ ] 配置基本代碼結構和文件組織
   - [ ] 設置開發環境 (ESLint, Prettier, TypeScript)

2. **設計系統建立**
   - [ ] 定義品牌色彩系統與排版規則
   - [ ] 創建基礎 UI 組件（按鈕、輸入框、卡片等）
   - [ ] 設計網站線框圖與原型

3. **數據模型設計**
   - [ ] 設計產品數據模型
   - [ ] 在 Airtable 中創建產品數據結構
   - [ ] 設計用戶互動數據模型

### 第二階段：核心功能開發（2-3週）

#### 任務清單
1. **頁面開發**
   - [ ] 首頁設計與開發
   - [ ] 關於頁面開發
   - [ ] 聯絡頁面開發
   - [ ] 健康諮詢流程頁面開發

2. **對話式推薦引擎**
   - [ ] 對話流程組件開發
   - [ ] 問題表單與數據收集
   - [ ] 推薦邏輯實現
   - [ ] 結果顯示頁面開發

3. **保健品推薦展示**
   - [ ] 產品卡片組件開發
   - [ ] 產品詳情彈窗
   - [ ] 組合推薦邏輯實現
   - [ ] 折扣計算與價格顯示

4. **個人化保健規劃**
   - [ ] 時間表可視化組件開發
   - [ ] PDF 生成功能實現
   - [ ] 電子郵件發送功能

### 第三階段：整合與優化（1-2週）

#### 任務清單
1. **API 整合**
   - [ ] 連接 Airtable API 獲取產品數據
   - [ ] 實現 iHerb 聯盟鏈接生成邏輯
   - [ ] 整合 SendGrid 郵件發送

2. **性能優化**
   - [ ] 代碼分割與懶加載
   - [ ] 圖片優化與 CDN 配置
   - [ ] 頁面預渲染優化

3. **SEO 優化**
   - [ ] 實現網站地圖
   - [ ] 設置 meta 標籤與結構化數據
   - [ ] 確保爬蟲友好的 URL 結構

### 第四階段：測試與發布（1週）

#### 任務清單
1. **測試**
   - [ ] 功能測試
   - [ ] 跨瀏覽器兼容性測試
   - [ ] 性能測試
   - [ ] 使用者測試與反饋收集

2. **部署準備**
   - [ ] 配置生產環境變數
   - [ ] 設置監控與錯誤跟踪
   - [ ] 準備發布清單

3. **正式發布**
   - [ ] 域名設置與 DNS 配置
   - [ ] 生產環境部署
   - [ ] 啟動分析與監控

## 四、開發與設計規範

### 代碼規範
- **文件命名**: PascalCase 用於組件，camelCase 用於工具函數
- **CSS 類名**: 使用 Tailwind 的原子類，自定義類使用 BEM 命名
- **狀態管理**: 小型組件使用本地狀態，跨組件共享狀態使用 Context
- **錯誤處理**: 使用 try/catch 捕獲異常，集中處理 API 錯誤

### 設計規範
- **色彩系統**:
  - 主要顏色: #4CAF50 (健康綠)
  - 次要顏色: #2196F3 (信任藍)
  - 強調顏色: #FF9800 (活力橙)
  - 背景色: #F5F7FA (淺灰背景)
  - 文字色: #333333 (主要), #666666 (次要)
  
- **排版**:
  - 標題字體: 'Noto Sans TC', sans-serif
  - 內文字體: 'Noto Sans TC', sans-serif
  - 基礎字號: 16px
  - 行高: 1.5
  
- **間距系統**:
  - 基本單位: 4px
  - 常用間距: 16px, 24px, 32px, 48px

- **圓角**:
  - 小: 4px
  - 中: 8px
  - 大: 16px

## 五、產品數據結構設計

### Airtable 產品數據表

**產品表**:
- `id`: 唯一標識符
- `name_zh`: 中文品名
- `name_en`: 英文品名
- `brand`: 品牌
- `category`: 分類 (維他命, 礦物質, 草本, 蛋白質, 脂肪酸等)
- `sub_category`: 子分類
- `image_url`: 產品圖片連結
- `iherb_url`: iHerb 產品頁面連結
- `price`: 價格 (USD)
- `discount_price`: 折扣價格 (USD)
- `rating`: 評分 (1-5)
- `review_count`: 評論數量
- `benefits`: 主要功效 (多選)
- `ingredients`: 主要成分
- `serving_size`: 建議劑量
- `usage_instruction`: 使用說明
- `warning`: 警告與禁忌
- `is_active`: 是否啟用

**健康需求表**:
- `id`: 唯一標識符
- `name`: 需求名稱 (如睡眠改善, 關節健康等)
- `description`: 需求描述
- `recommended_products`: 推薦產品關聯 (多選)
- `priority_level`: 優先級 (高中低)

**產品組合表**:
- `id`: 唯一標識符
- `name`: 組合名稱
- `description`: 組合描述
- `products`: 包含產品 (多選)
- `total_price`: 總價格
- `discount_total`: 折扣總價
- `health_needs`: 適用健康需求 (多選)
- `lifestyle_match`: 適用生活方式 (多選)
- `budget_tier`: 預算等級 (經濟型, 平衡型, 完整型)

## 六、初始內容計劃

### 首頁內容
- **英雄區塊**: "找到最適合你的保健品組合，不再盲目購買"
- **價值主張**: 3-4個核心賣點
- **使用步驟**: 以圖示說明使用流程
- **案例展示**: 展示3個典型健康需求的解決方案
- **信任建立**: 簡短的專業背景說明

### 健康需求類型（初始支持）
1. **睡眠改善**: 適合有睡眠問題的用戶
2. **精力提升**: 適合長期疲勞的用戶
3. **腸胃健康**: 適合有消化問題的用戶
4. **免疫力增強**: 適合想提高免疫力的用戶
5. **關節保健**: 適合有關節不適的用戶
6. **心臟健康**: 適合關注心血管健康的用戶
7. **大腦功能**: 適合需要集中注意力的用戶
8. **眼睛健康**: 適合長時間使用電子產品的用戶

### 知識庫初始內容
- **營養基礎**: 什麼是維生素、礦物質、抗氧化劑等
- **保健品常識**: 如何讀懂標籤、保健品形式差異
- **服用建議**: 最佳服用時間、搭配食物的重要性
- **常見問題**: 保健品迷思澄清、常見副作用說明

## 七、測試與優化計劃

### 用戶測試
- **參與者招募**: 5-8名目標用戶
- **測試方法**: 任務完成測試 + 訪談
- **測試目標**: 評估推薦流程的易用性和結果滿意度
- **關鍵指標**: 完成時間、錯誤率、滿意度評分

### 性能測試
- **頁面載入速度**: 目標 < 3秒（包括首次內容繪製）
- **互動回應時間**: 用戶操作反饋 < 100ms
- **移動設備優化**: 確保流暢的移動體驗

### A/B 測試計劃（上線後）
- **推薦流程長度**: 測試不同問題數量對完成率的影響
- **行動號召按鈕**: 測試不同按鈕文案和位置
- **產品展示方式**: 測試不同的產品卡片設計

## 八、發布後運營計劃

### 內容更新
- **每週**: 更新產品價格和庫存狀態
- **每月**: 添加3-5個新產品和組合
- **每季**: 更新健康知識庫內容

### 用戶獲取
- **SEO**: 撰寫保健相關內容文章
- **社群行銷**: 在健康相關社群分享專業內容
- **口碑推薦**: 鼓勵用戶分享推薦結果

### 數據分析
- **每週報告**: 監控核心轉化指標
- **用戶行為分析**: 分析用戶路徑和痛點
- **持續改進**: 根據數據持續優化推薦邏輯和用戶體驗

---

本計劃將根據開發過程中的實際情況和反饋持續調整。 